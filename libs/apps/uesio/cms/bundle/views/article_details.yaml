name: article_details
definition:
  # Wires connect to data in collections
  wires:
    articleWire:
      collection: uesio/cms.article
      fields:
        uesio/cms.content:
        uesio/cms.name:
      conditions:
        - field: uesio/core.id
          value: $Param{recordid}
  # Components determine the layout and composition of your view
  components:
    - uesio/io.titlebar:
        title: cms.article
        uesio.variant: uesio/io.main
        actions:
          - uesio/io.group:
              components:
                - uesio/io.button:
                    signals:
                      - signal: component/uesio/io.field/SAVE_FILE
                        target: mdcontent
                      - signal: wire/LOAD
                        wires:
                          - articleWire
                    text: Save
                    uesio.variant: uesio/io.secondary
                - uesio/io.button:
                    signals:
                      - signal: component/uesio/io.field/CANCEL_FILE
                        target: mdcontent
                    text: Cancel
                    uesio.variant: uesio/io.secondary
                - uesio/io.button:
                    signals:
                      - signal: component/uesio/io.list/TOGGLE_MODE
                        target: articleList
                    text: Mode
                    uesio.variant: uesio/io.secondary
    - uesio/io.list:
        id: articleList
        wire: articleWire
        mode: READ
        components:
          - uesio/io.box:
              uesio.variant: uesio/io.section
              components:
                - uesio/io.field:
                    fieldId: uesio/cms.name
                - uesio/io.field:
                    fieldId: uesio/cms.content
                    displayAs: MARKDOWN
                    id: mdcontent
