name: track
definition:
  components:
    - uesio/core.view:
        view: uesio/docs.topbar
    - uesio/io.grid:
        uesio.variant: uesio/docs.mainlayout
        items:
          - uesio/io.griditem:
              area: main
              uesio.styleTokens:
                root:
                  - min-h-screen
                  - p-[22px]
              components:
                - uesio/io.list:
                    wire: track
                    components:
                      - uesio/io.text:
                          uesio.variant: uesio/docs.smallcallout
                          text: ${uesio/docs.name}
                      - uesio/io.text:
                          uesio.variant: uesio/docs.content
                          text: ${uesio/docs.description}
                - uesio/io.deck:
                    uesio.styleTokens:
                      root:
                        - mt-10
                        - grid-cols-3
                        - gap-10
                    wire: lesson
                    components:
                      - uesio/io.tile:
                          uesio.variant: uesio/docs.trackcard
                          signals:
                            - signal: route/NAVIGATE
                              path: track/${uesio/docs.track->uesio/docs.slug}/${uesio/docs.article->uesio/cms.slug}
                          content:
                            - uesio/io.box:
                                uesio.variant: uesio/docs.trackcardheader
                                uesio.styleTokens:
                                  root:
                                    - py-[12px]
                                    - px-[24px]
                                    - justify-start
                                components:
                                  - uesio/io.text:
                                      text: ${uesio/docs.order}
                                      uesio.styleTokens:
                                        root:
                                          - text-white
                                          - text-[20pt]
                                          - drop-shadow-[0_0_8px_rgba(0.0.0,0.1)]
                            - uesio/io.box:
                                uesio.styleTokens:
                                  root:
                                    - p-[24px]
                                components:
                                  - uesio/io.text:
                                      uesio.styleTokens:
                                        root:
                                          - text-[12pt]
                                      uesio.variant: uesio/docs.smallcallout
                                      text: ${uesio/docs.article->uesio/cms.name}
                                  - uesio/io.text:
                                      uesio.styleTokens:
                                        root:
                                          - text-[10pt]
                                      uesio.variant: uesio/docs.content
                                      text: ${uesio/docs.article->uesio/cms.description}
  wires:
    track:
      collection: uesio/docs.track
      fields:
        uesio/core.id:
        uesio/docs.name:
        uesio/docs.description:
        uesio/docs.slug:
      conditions:
        - field: uesio/docs.slug
          param: track
          valueSource: PARAM
    lesson:
      collection: uesio/docs.lesson
      fields:
        uesio/core.id:
        uesio/docs.order:
        uesio/docs.article:
          fields:
            uesio/cms.name:
            uesio/cms.description:
            uesio/cms.slug:
        uesio/docs.track:
          fields:
            uesio/docs.slug:
      conditions:
        - field: uesio/docs.track
          valueSource: LOOKUP
          lookupWire: track
          lookupField: uesio/core.id
      order:
        - field: uesio/docs.order
