name: contacts
definition:
  components:
    - uesio/core.view:
        view: uesio/crm.topbar
    - uesio/io.titlebar:
        title: Contacts
        uesio.variant: uesio/io.main
        actions:
          - uesio/io.group:
              components:
                - uesio/io.button:
                    signals:
                      - signal: wire/CREATE_RECORD
                        wire: contacts
                    text: Create
                    uesio.variant: uesio/io.secondary
                - uesio/io.button:
                    signals:
                      - signal: wire/SAVE
                        wires:
                          - contacts
                    text: Save
                    uesio.variant: uesio/io.secondary
                - uesio/io.button:
                    signals:
                      - signal: wire/CANCEL
                        wire: contacts
                    text: Cancel
                    uesio.variant: uesio/io.secondary
                - uesio/io.button:
                    signals:
                      - signal: component/uesio/io.table/TOGGLE_MODE
                        target: contactsTable
                    text: Mode
                    uesio.variant: uesio/io.secondary
    - uesio/io.deck:
        uesio.id: NewId
        mode: READ
        wire: contacts
        uesio.styles:
          root:
            padding: 40px
            display: grid
            columnGap: 24px;
            rowGap: 24px
        templateColumns:
          xs: 1fr
          sm: 1fr 1fr
          md: 1fr 1fr 1fr 1fr
          lg: 1fr 1fr 1fr 1fr 1fr
          xl: 1fr 1fr 1fr 1fr 1fr 1fr
        components:
          - uesio/io.box:
              uesio.styles:
                root:
                  alignItems: flex-start
                  border: "1px solid #ccc"
                  boxShadow: "0 0 6px #00000033"
                  padding: 15px
                  minHeight: 240px
              templateColumns: 180px 1fr 1fr
              columnGap: 10px
              components:
                - uesio/io.field:
                    fieldId: uesio/crm.image
                    displayAs: IMAGE
                    uesio.styles:
                      root:
                        max-height: 200px
                    label: null
                    labelPosition: none
                - uesio/io.field:
                    fieldId: uesio/crm.firstname
                - uesio/io.field:
                    fieldId: uesio/crm.lastname
                - uesio/io.field:
                    fieldId: uesio/crm.email
                - uesio/io.field:
                    fieldId: uesio/crm.account
                - uesio/io.button:
                    text: View
                    icon: arrow_forward
                    uesio.variant: uesio/io.secondary
                    signals:
                      - signal: route/NAVIGATE
                        collection: uesio/crm.contact
                        viewtype: detail
                        recordid: ${uesio/core.id}
  wires:
    contacts:
      collection: uesio/crm.contact
      fields:
        uesio/crm.account:
          fields:
            uesio/crm.name: null
        uesio/crm.birthdate: null
        uesio/crm.firstname: null
        uesio/crm.gender: null
        uesio/core.id: null
        uesio/crm.lastname: null
        uesio/crm.email: null
        uesio/core.updatedat: null
        uesio/core.createdat: null
        uesio/crm.image: null
