name: field
title: Field
description: An input control, such as a text box, select, etc.
link: "https://docs.ues.io/"
pack: main
entrypoint: components/field/field
defaultDefinition: {}
discoverable: true
category: DATA
icon: select_check_box
variants:
  - uesio/io.field:uesio/io.default
  - uesio/io.fieldlabel:uesio/io.default
  - uesio/io.fieldwrapper:uesio/io.default
  - uesio/io.tile:uesio/io.default
  - uesio/io.titlebar:uesio/io.infotag
  - uesio/io.listfield:uesio/io.default
  - uesio/io.selectfield:uesio/io.default
  - uesio/io.customselectfield:uesio/io.default
  - uesio/io.codefield:uesio/io.default
  - uesio/io.markdownfield:uesio/io.default
  - uesio/io.menu:uesio/io.default
  - uesio/io.avatar:uesio/io.default
slots:
  - name: components
    path: /list
properties:
  - name: wire
    type: WIRE
    label: Wire
    defaultToContext: true
  - name: fieldId
    type: FIELD
    label: Field Id
    wireField: wire
  - name: fieldDisplayType
    type: FIELD_METADATA
    display: false
    viewOnly: true
    wireProperty: wire
    fieldProperty: fieldId
    metadataProperty: type
    onChange:
      # Always clear out the following when the display type changes
      - updates:
          - field: displayAs
          - field: placeholder
      # If the display type is now a type for which display-type specific properties are not relevant,
      # clear out these old properties
      - updates:
          - field: reference
        conditions:
          - type: fieldValue
            field: fieldDisplayType
            operator: NOT_EQUALS
            value: REFERENCE
      - updates:
          - field: number
        conditions:
          - type: fieldValue
            field: fieldDisplayType
            operator: NOT_EQUALS
            value: NUMBER
      - updates:
          - field: longtext
        conditions:
          - type: fieldValue
            field: fieldDisplayType
            operator: NOT_EQUALS
            value: LONGTEXT
      - updates:
          - field: applyChanges
        conditions:
          - type: fieldValue
            field: fieldDisplayType
            operator: NOT_IN
            values:
              - TEXT
              - NUMBER
  - name: label
    type: TEXT
    label: Label
  - name: labelPosition
    type: SELECT
    label: Label Position
    options:
      - label: None
        value: none
      - label: Top
        value: top
      - label: Left
        value: left
  - name: placeholder
    type: TEXT
    label: Placeholder
    displayConditions:
      - type: fieldValue
        field: fieldDisplayType
        operator: IN
        values:
          - TEXT
          - LONGTEXT
          - REFERENCE
  - name: applyChanges
    type: SELECT
    label: "Apply field changes"
    options:
      - value: ""
        label: "Immediately (as user types)"
      - value: "onBlur"
        label: "On blur (when user tabs away)"
    displayConditions:
      - type: fieldValue
        field: fieldDisplayType
        operator: IN
        values:
          - TEXT
          - NUMBER
  - name: displayAs
    type: SELECT
    label: Display as
    options:
      - label: Text
        value: ""
        validFor:
          - field: fieldDisplayType
            operator: IN
            type: fieldValue
            values:
              - TEXT
              - LONGTEXT
      - label: Select
        value: ""
        validFor:
          - field: fieldDisplayType
            value: SELECT
      - label: Checkboxes
        value: ""
        validFor:
          - field: fieldDisplayType
            value: MULTISELECT
      - label: Checkbox
        value: ""
        validFor:
          - field: fieldDisplayType
            value: CHECKBOX
      - label: Password
        value: PASSWORD
        validFor:
          - field: fieldDisplayType
            value: TEXT
      - label: Markdown
        value: MARKDOWN
        validFor:
          - field: fieldDisplayType
            value: LONGTEXT
      - label: Multiselect
        value: SELECT
        validFor:
          - field: fieldDisplayType
            value: MULTISELECT
      - label: Radio buttons
        value: RADIO
        validFor:
          - field: fieldDisplayType
            value: SELECT
      - label: Toggle
        value: TOGGLE
        validFor:
          - field: fieldDisplayType
            value: CHECKBOX
    displayConditions:
      - type: fieldValue
        field: fieldDisplayType
        operator: IN
        values:
          - CHECKBOX
          - LONGTEXT
          - MULTISELECT
          - REFERENCE
          - SELECT
          - TEXT
  # Number-only properties
  - name: number
    label: " "
    type: STRUCT
    displayConditions:
      - type: fieldValue
        field: fieldDisplayType
        value: NUMBER
    properties:
      - name: min
        type: NUMBER
        label: Min
      - name: max
        type: NUMBER
        label: Max
      - name: step
        type: NUMBER
        label: Step
  # Longtext field properties
  - name: longtext
    label: " "
    type: STRUCT
    displayConditions:
      - type: fieldValue
        field: fieldDisplayType
        value: LONGTEXT
    properties:
      - name: cols
        type: NUMBER
        label: "# of Columns"
      - name: rows
        type: NUMBER
        label: "# of Rows"
  # Reference properties
  - name: reference
    label: " "
    type: STRUCT
    displayConditions:
      - type: fieldValue
        field: fieldDisplayType
        value: REFERENCE
    properties:
      - name: template
        type: TEXT
        label: Display Template
      - name: searchFields
        type: FIELDS
        wireField: wire
        label: Search Fields
      - name: returnFields
        type: FIELDS
        wireField: wire
        label: Return Fields
sections:
  - type: HOME
    id: uesio.home
    properties:
      - wire
      - fieldId
      - fieldDisplayType
      - label
      - labelPosition
      - placeholder
      - displayAs
      - applyChanges
      # Display type specific properties
      - number
      - longtext
      - reference
  - type: STYLES
  - type: DISPLAY
signals:
  UPLOAD_FILE:
    label: Upload File
    properties: []
  CANCEL_FILE:
    label: Cancel File
    properties: []
