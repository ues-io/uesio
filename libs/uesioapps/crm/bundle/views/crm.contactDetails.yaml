name: contactDetails
definition:
  components:
    - uesio.view:
        name: topbar
        namespace: crm
    - material.deck:
        xs: 12
        margin: 0
        id: oneaccountDeck
        wire: contacts
        mode: READ
        components:
          - material.card:
              media:
                background:
                color: "#FF5733"
                height: 10px
              margin: 1
              components:
                - material.grid:
                    justify: space-between
                    alignitems: center
                    items:
                      - material.griditem:
                          components:
                            - material.typography:
                                text: ${crm.firstname}
                                variant: h5
                                textTransform: "uppercase"
                      - material.griditem:
                          components:
                            - material.buttonset:
                                buttons:
                                  - material.button:
                                      color: "primary"
                                      variant: "outlined"
                                      text: "Edit"
                                      signals:
                                        - signal: "TOGGLE_MODE"
                                          scope: "material.deck"
                                          band: "component"
                                          target: "oneaccountDeck"
                                  - material.button:
                                      color: "primary"
                                      variant: "outlined"
                                      text: "Save"
                                      signals:
                                        - signal: "SAVE"
                                          band: "wire"
                                          targets:
                                            - "contacts"
                                  - material.button:
                                      color: "primary"
                                      variant: "outlined"
                                      text: "Cancel"
                                      signals:
                                        - signal: "CANCEL"
                                          band: "wire"
                                          target: "contacts"
                - material.field:
                    fieldId: crm.id
                - material.field:
                    fieldId: crm.firstname
                - material.field:
                    fieldId: crm.lastname
                - material.field:
                    fieldId: crm.gender
                - material.field:
                    fieldId: crm.deceased
                - material.field:
                    fieldId: crm.account
  wires:
    contacts:
      collection: crm.contacts
      conditions:
        - field: crm.id
          valueSource: PARAM
          param: contactid
      fields:
        crm.account: null
        crm.accountid: null
        crm.deceased: null
        crm.firstname: null
        crm.gender: null
        crm.id: null
        crm.lastname: null

dependencies:
  componentpacks:
    material.main:
