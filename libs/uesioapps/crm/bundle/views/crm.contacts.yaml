name: contacts
definition:
  components:
    - uesio.view:
        view: crm.topbar
    - io.titlebar:
        title: Contacts
        uesio.variant: io.main
        actions:
          - io.group:
              components:
                - io.button:
                    signals:
                      - signal: wire/CREATE_RECORD
                        wire: contacts
                    text: Create
                    uesio.variant: io.secondary
                - io.button:
                    signals:
                      - signal: wire/SAVE
                        wires:
                          - contacts
                    text: Save
                    uesio.variant: io.secondary
                - io.button:
                    signals:
                      - signal: wire/CANCEL
                        wire: contacts
                    text: Cancel
                    uesio.variant: io.secondary
                - io.button:
                    signals:
                      - signal: component/io.table/TOGGLE_MODE
                        target: contactsTable
                    text: Mode
                    uesio.variant: io.secondary
    - io.box:
        uesio.styles:
          root:
            padding: 40px
        components:
          - io.table:
              columns:
                - io.column:
                    field: crm.firstname
                - io.column:
                    field: crm.lastname
                - io.column:
                    field: crm.gender
                - io.column:
                    field: crm.deceased
                - io.column:
                    field: crm.accountid
                - io.column:
                    field: crm.account
                - io.column:
                    field: crm.birthdate
                - io.column:
                    field: crm.email
                - io.column:
                    field: crm.updated
                - io.column:
                    field: crm.created
                - io.column:
                    components:
                      - io.button:
                          signals:
                            - path: contact/${crm.id}
                              signal: route/NAVIGATE
                          text: Edit
                          uesio.variant: io.secondary
                      - io.button:
                          signals:
                            - signal: wire/TOGGLE_DELETE_STATUS
                          text: Delete
                          uesio.variant: io.secondary
              id: contactsTable
              mode: EDIT
              wire: contacts
  wires:
    contacts:
      collection: crm.contacts
      fields:
        crm.account:
          fields:
            crm.name:
            crm.description:
        crm.accountid: null
        crm.birthdate: null
        crm.deceased: null
        crm.firstname: null
        crm.gender: null
        crm.id: null
        crm.lastname: null
        crm.email: null
        crm.updated:
        crm.created:
