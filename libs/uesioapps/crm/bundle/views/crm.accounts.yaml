name: accounts
definition:
  components:
    - uesio.view:
        view: crm.topbar
    - material.materialwrapper:
        components:
          - material.typography:
              text: Accounts
              variant: h6
          - material.buttonset:
              buttons:
                - material.button:
                    color: primary
                    signals:
                      - signal: wire/CREATE_RECORD
                        wire: accounts
                    text: Create Row
                    variant: contained
                - material.button:
                    color: primary
                    signals:
                      - signal: wire/SAVE
                        wires:
                          - accounts
                    text: Save
                    variant: contained
                - material.button:
                    color: primary
                    signals:
                      - signal: wire/CANCEL
                        wire: accounts
                    text: Cancel
                    variant: contained
                - material.button:
                    color: primary
                    signals:
                      - signal: component/material.table/TOGGLE_MODE
                        target: accountsTable
                    text: Mode
                    variant: contained
          - material.table:
              columns:
                - material.column:
                    field: crm.externalid
                - material.column:
                    field: crm.name
                - material.column:
                    field: crm.description
                - material.column:
                    field: crm.created
                - material.column:
                    field: crm.updated
                - material.column:
                    components:
                      - material.button:
                          color: primary
                          signals:
                            - path: account/${crm.id}
                              signal: route/NAVIGATE
                          text: Edit
                          variant: contained
                      - material.button:
                          color: primary
                          signals:
                            - signal: wire/TOGGLE_DELETE_STATUS
                          text: Delete
                          variant: contained
              id: accountsTable
              mode: EDIT
              wire: accounts
  wires:
    accounts:
      collection: crm.accounts
      order:
        - field: crm.name
          desc: false
        - field: crm.created
          desc: false
      fields:
        crm.description:
        crm.id:
        crm.name:
        crm.externalid:
        crm.created:
        crm.updated:
