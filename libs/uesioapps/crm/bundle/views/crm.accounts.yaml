name: accounts
definition:
  components:
    - uesio.view:
        view: crm.topbar
    - io.titlebar:
        title: Accounts
        uesio.variant: io.main
        actions:
          - io.group:
              components:
                - io.button:
                    signals:
                      - signal: wire/CREATE_RECORD
                        wire: accounts
                    text: Create
                    uesio.variant: io.secondary
                    icon: add
                - io.button:
                    signals:
                      - signal: wire/SAVE
                        wires:
                          - accounts
                    text: Save
                    uesio.variant: io.secondary
                    icon: check_circle_outline
                - io.button:
                    signals:
                      - signal: wire/CANCEL
                        wire: accounts
                    text: Cancel
                    uesio.variant: io.secondary
                    icon: cancel
                - io.button:
                    signals:
                      - signal: component/io.table/TOGGLE_MODE
                        target: accountsTable
                    text: List/Detail View
                    uesio.variant: io.secondary
                    icon: view_list
    - io.box:
        uesio.styles:
          root:
            padding: 40px
        components:
          - io.table:
              rowactions:
                - text: Edit
                  signals:
                    - path: account/${uesio.id}
                      signal: route/NAVIGATE
                - text: Delete
                  signals:
                    - signal: wire/TOGGLE_DELETE_STATUS
              columns:
                - io.column:
                    field: crm.externalid
                - io.column:
                    field: crm.name
                - io.column:
                    field: crm.description
                - io.column:
                    field: crm.account_type
                - io.column:
                    field: crm.industry
                - io.column:
                    field: crm.no_of_employees
                - io.column:
                    field: crm.billing_city
                - io.column:
                    field: crm.billing_country
                - io.column:
                    field: crm.rating
                - io.column:
                    field: uesio.createdat
                - io.column:
                    field: uesio.updatedat
                - io.column:
                    field: uesio.createdby
              id: accountsTable
              mode: EDIT
              wire: accounts
  wires:
    accounts:
      collection: crm.accounts
      order:
        - field: crm.name
          desc: false
        - field: crm.created
          desc: false
      fields:
        crm.description: null
        uesio.id: null
        crm.name: null
        crm.externalid: null
        uesio.createdat: null
        uesio.updatedat: null
        crm.account_type: null
        crm.industry: null
        crm.billing_city: null
        crm.no_of_employees: null
        crm.rating: null
        crm.billing_country: null
